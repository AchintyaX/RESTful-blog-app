var express = require("express");
var app = express();
var bodyParser =require("body-parser");
var mongoose = require("mongoose");
var methodOverride = require("method-override")
var expressSanitizer = require("express-sanitizer")


//app config
mongoose.connect("mongodb://localhost/restful_blog_app");
app.set("view engine", "ejs");
app.use(express.static("public"));
app.use(bodyParser.urlencoded({extended: true}));
app.use(methodOverride("_method"));
app.use(expressSanitizer());


//Mongoose model config
var blogSchema = new mongoose.Schema({
	title: String,
	image: String,
	body: String,
	created: {type: Date, default: Date.now}
});
var blog = mongoose.model("Blog", blogSchema);
// intialozing the database
// comment out the this code after using it for the first time
blog.create({
title:"read books",
image:"https://cdn-images-1.medium.com/max/780/1*C76PXdoMXtysxqiwkS5iow.png",
body:"One should read books a lot, reading books is a good habbit and it helps people to learn new things"

}, function(err, newBlog){
if(err)
{
	console.log(" we have some error");
	console.log(err);
}
else{
	console.log("we added a new post");
	console.log(newBlog)
}
});
blog.create({
title:"do swimming",
image:"data:image/jpeg;base64,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",
body:"swimming is very good for heath, a lot of calories are burnt in swimming"

}, function(err, newBlog){
if(err)
{
	console.log(" we have some error");
	console.log(err);
}
else{
	console.log("we added a new post");
	console.log(newBlog)
}
});
blog.create({
	title:"eat fruits",
	image:"data:image/jpeg;base64,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",
	body:"Fruits have a lot of vitamins and nutrients one should eat fruits on daily basis with all the meals, seasonal  food should be preferred "

	}, function(err, newBlog){
	if(err)
	{
		console.log(" we have some error");
		console.log(err);
	}
	else{
		console.log("we added a new post");
		console.log(newBlog)
	}
	});




//RESTful Routes
app.get("/", function(req, res){
	res.redirect("/blogs");
})
//Index route
app.get("/blogs", function(req, res){
	blog.find({}, function(err, blogs){
		if(err)
		{
			console.log("ERROR!!");
			console.log(err);
		}
		else
		{
			res.render("index", {blogs: blogs});
		}
	})
	
});
// NEW ROUTE
app.get("/blogs/new", function(req, res)
{
	res.render("new");
});
// CREATE ROUTE
app.post("/blogs", function(req, res){
	// create blog
	console.log(req.body);
	req.body.blog.body = req.sanitize(req.body.blog.body);
	console.log("==========================");
	console.log(req.body);
	blog.create(req.body.blog, function(err, newBlog){
		if(err)
		{
			res.render("new");
		}
		else
		{
			console.log(" we have a new blog entry");
			// then redirect to index
			res.redirect("/blogs");
		}
	});
	
});
//SHOW ROUTE
app.get("/blogs/:id", function(req, res){
	blog.findById(req.params.id, function(err, foundBlog){
		if(err)
		{
			res.redirect("/blogs");
		}
		else
		{
			res.render("show", {blog: foundBlog})
		}
	});
});
//EDIT ROUTE
app.get("/blogs/:id/edit", function(req, res){
	blog.findById(req.params.id, function(err, foundBlog){
		if(err){
			res.redirect("/blogs");
		}
		else{
			res.render("edit",{blog: foundBlog});
		}
	});
});
//UPDATE ROUTE
app.put("/blogs/:id", function(req, res){
	req.body.blog.body = req.sanitize(req.body.blog.body);
	blog.findByIdAndUpdate(req.params.id, req.body.blog, function(err, updatedBlog){
		if(err){
			res.redirect("/blogs");
		}
		else{
			res.redirect("/blogs/"+ req.params.id);
		}
	});
});
//DELETE ROUTE
app.delete("/blogs/:id", function(req, res){
	//destroy blog
	blog.findByIdAndRemove(req.params.id, function(err){
		if(err)
		{
			res.redirect("/blogs");
		}
		else
		{
			res.redirect("/blogs");
		}
	});	
	//redirect somewhere
});


// enabling the listening for the server
app.listen(2000, function()
{
	console.log("the app is working");
});